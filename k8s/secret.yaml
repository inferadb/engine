apiVersion: v1
kind: Secret
metadata:
  name: inferadb-engine-secrets
  labels:
    app: inferadb-engine
    component: server
type: Opaque
stringData:
  # Authentication secrets (replace with actual values)
  INFERADB__AUTH__JWKS_URL: "https://auth.example.com/.well-known/jwks.json"
  INFERADB__AUTH__REDIS_URL: "redis://redis-master:6379"
  INFERADB__AUTH__OIDC_CLIENT_SECRET: "change-me-in-production"

  # Optional OAuth configuration
  INFERADB__AUTH__OAUTH_INTROSPECTION_CLIENT_ID: ""
  INFERADB__AUTH__OAUTH_INTROSPECTION_CLIENT_SECRET: ""
# ---
# For production, use external secret managers:
# apiVersion: external-secrets.io/v1beta1
# kind: ExternalSecret
# metadata:
#   name: inferadb-engine-secrets
# spec:
#   refreshInterval: 1h
#   secretStoreRef:
#     name: aws-secrets-manager
#     kind: SecretStore
#   target:
#     name: inferadb-engine-secrets
#     creationPolicy: Owner
#   data:
#   - secretKey: INFERADB__AUTH__JWKS_URL
#     remoteRef:
#       key: inferadb/production/auth
#       property: jwks_url
#   - secretKey: INFERADB__AUTH__REDIS_URL
#     remoteRef:
#       key: inferadb/production/redis
#       property: connection_url
#   - secretKey: INFERADB__AUTH__OIDC_CLIENT_SECRET
#     remoteRef:
#       key: inferadb/production/oidc
#       property: client_secret
